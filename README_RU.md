**RU** | [ENG](/README.md)

# Bash-MQTT-Command-Linux

Bash-скрипт для удаленного выполнения команд с использованием MQTT.

Этот скрипт подключается к MQTT-брокеру и подписывается на топик `device/command`. Он ожидает входящих сообщений, которые должны быть командами shell, выполняемыми на текущей машине. Скрипт выполняет полученную команду и отправляет результат обратно в MQTT-брокер в топик `device/response`.

## Использование

Перед запуском скрипта измените следующие переменные в соответствии с вашей средой:

~~~
broker="your.mqtt.broker"
port="your-mqtt-broker-port"
topic="device/command"
response_topic="device/response"
client_id="device"
username="your-mqtt-username"
password="your-mqtt-password"
~~~

После внесения изменений запустите скрипт с помощью:

~~~
bash mqtt-command-executor.sh
~~~

Скрипт подключится к MQTT-брокеру и начнет прослушивать входящие сообщения в топике `device/command`. Когда сообщение получено, оно будет выполнено в shell, и результат будет отправлен обратно в брокер в топик `device/response`.

## Предупреждения и Потенциальные Проблемы

1. **Риск безопасности**: Этот скрипт выполняет команды shell, полученные от MQTT-брокера. Это может быть крайне опасно, если брокер или топик не защищены. Злоумышленник может отправить вредоносные команды на вашу систему.

2. **Отсутствие проверки ввода**: Скрипт не проверяет и не санирует входящие команды. Любая полученная команда будет выполнена как есть, что может привести к непредвиденным последствиям.

3. **Зависимость от безопасности MQTT-брокера**: Безопасность этого скрипта сильно зависит от безопасности вашего MQTT-брокера. Если брокер будет скомпрометирован, ваша система также может быть скомпрометирована.

4. **Отсутствие обработки ошибок**: В скрипте отсутствует надежная обработка ошибок. Если команда не выполнится или соединение с MQTT прервется, скрипт может не обработать это корректно.

5. **Использование ресурсов**: Выполнение произвольных команд может привести к высокому использованию ресурсов (CPU, память и т.д.), что может повлиять на производительность вашей системы.

6. **Отсутствие логирования**: Скрипт не ведет журнал выполненных команд или их результатов. Это затрудняет аудит или отладку проблем.

## Лицензия

GNU General Public License v3.0

Условия этой строгой копилефт-лицензии требуют предоставления полного исходного кода лицензированных работ и модификаций, которые включают более крупные работы, использующие лицензированную работу, на тех же условиях. Уведомления об авторских правах и лицензии должны быть сохранены. Участники предоставляют явное разрешение на права патентов.
